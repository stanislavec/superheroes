(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e){e.exports={dc:[{name:"\u0410\u043a\u0432\u0430\u043c\u0435\u043d",image:"http://www.ramrus.ru/pic/dc/aquaman.jpg"},{name:"\u0411\u044d\u0442\u043c\u0435\u043d",image:"http://www.ramrus.ru/pic/dc/batman.jpg"},{name:"\u041a\u0438\u0431\u043e\u0440\u0433",image:"http://www.ramrus.ru/pic/dc/cyborg.jpg"},{name:"\u0424\u043b\u044d\u0448",image:"http://www.ramrus.ru/pic/dc/flash.jpg"},{name:"\u0417\u0435\u043b\u0451\u043d\u044b\u0439 \u0424\u043e\u043d\u0430\u0440\u044c",image:"http://www.ramrus.ru/pic/dc/greenlantern.jpg"},{name:"\u0421\u0443\u043f\u0435\u0440\u0433\u0451\u0440\u043b",image:"http://www.ramrus.ru/pic/dc/supergirl.jpg"},{name:"\u0421\u0443\u043f\u0435\u0440\u043c\u0435\u043d",image:"http://www.ramrus.ru/pic/dc/superman.jpg"},{name:"\u0427\u0443\u0434\u043e-\u0436\u0435\u043d\u0449\u0438\u043d\u0430",image:"http://www.ramrus.ru/pic/dc/wonderwoman.jpg"}],marvel:[{name:"\u0427\u0451\u0440\u043d\u0430\u044f \u041f\u0430\u043d\u0442\u0435\u0440\u0430",image:"http://www.ramrus.ru/pic/marvel/blackpanther.jpg"},{name:"\u041a\u0430\u043f\u0438\u0442\u0430\u043d \u0410\u043c\u0435\u0440\u0438\u043a\u0430",image:"http://www.ramrus.ru/pic/marvel/captainamerica.jpg"},{name:"\u0421\u043e\u0440\u0432\u0438\u0433\u043e\u043b\u043e\u0432\u0430",image:"http://www.ramrus.ru/pic/marvel/daredevil.jpg"},{name:"\u0414\u043e\u043a\u0442\u043e\u0440 \u0421\u0442\u0440\u044d\u043d\u0434\u0436",image:"http://www.ramrus.ru/pic/marvel/doctorstrange.jpg"},{name:"\u0425\u0430\u043b\u043a",image:"http://www.ramrus.ru/pic/marvel/hulk.jpg"},{name:"\u0416\u0435\u043b\u0435\u0437\u043d\u0439 \u0427\u0435\u043b\u043e\u0432\u0435\u043a",image:"http://www.ramrus.ru/pic/marvel/ironman.jpg"},{name:"\u0427\u0435\u043b\u043e\u0432\u0435\u043a-\u043f\u0430\u0443\u043a",image:"http://www.ramrus.ru/pic/marvel/spiderman.jpg"},{name:"\u0422\u043e\u0440",image:"http://www.ramrus.ru/pic/marvel/thor.jpg"}]}},27:function(e,t,r){e.exports=r(43)},33:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"receiveSearch",function(){return O}),r.d(n,"receiveSelect",function(){return E}),r.d(n,"receiveRemove",function(){return k});var a=r(0),c=r.n(a),i=r(23),s=r.n(i),o=r(2),u={search:[],select:[]},l="SEARCH",m="SELECT",h="REMOVE";var p=Object(o.c)({search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.search,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return t.result||null;default:return e||null}},select:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.select,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return e.concat(t.selected);case h:var r;e.forEach(function(e,n){e.image===t.removed.image&&(r=n)});var n=Object.values(e).map(function(e){return e}).slice(0,r),a=Object.values(e).map(function(e){return e}).slice(r+1);return e=n.concat(a);default:return e}}}),v=r(25);r(33);var d=r(9),w=r(8),g=r(11),f=r(10),b=r(12),j=r(6);function O(e,t){if(!t){return{type:l,result:""}}var r=e.filter(function(e){return-1!==e.name.indexOf(t)});return function(e){return function(e){return new Promise(function(t,r){t(e)})}(r).then(function(t){return e(function(e){return{type:l,result:e}}(t))})}}function E(e){return function(t){return function(e){return new Promise(function(t,r){t(e)})}(e).then(function(e){return t(function(e){return{type:m,selected:e}}(e))})}}function k(e){return function(t){return function(e){return new Promise(function(t,r){t(e)})}(e).then(function(e){return t(function(e){return{type:h,removed:e}}(e))})}}var H=r(4),y=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={showCloseButton:!1},r.removeHero=r.removeHero.bind(Object(H.a)(Object(H.a)(r))),r}return Object(b.a)(t,e),Object(w.a)(t,[{key:"makeHeroArr",value:function(){var e=this.props.showHeroes.reduce(function(e,t){return e.hasOwnProperty(t.image)||(e[t.image]=0),e[t.image]++,e},{});return Object.keys(e).map(function(t){return{image:t,count:e[t]}})}},{key:"removeHero",value:function(e,t){this.props.makeActions.receiveRemove(t)}},{key:"toogleClose",value:function(e,t){document.querySelectorAll(".close-button")[t].classList.toggle("hidden")}},{key:"renderSVG",value:function(){return c.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M1 1L5 5M9 9L5 5M5 5L9 1M5 5L1 9",stroke:"white",strokeWidth:"2"}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"header-section-wrapper"},this.makeHeroArr().map(function(t,r){return c.a.createElement("div",{key:r,onClick:function(t){return e.toogleClose(t,r)},className:"selected-hero"},c.a.createElement("div",{className:"close-button hidden",onClick:function(r){return e.removeHero(r,t)}},e.renderSVG()),c.a.createElement("img",{alt:t.name,src:t.image}),t.count?c.a.createElement("div",{className:"hero-count"},t.count):"")}))}}]),t}(a.Component);var C=Object(j.b)(function(e){return{selectedHeroes:e.select}},function(e){return{makeActions:Object(o.b)(n,e)}})(y),A=r(16),N=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(g.a)(this,Object(f.a)(t).call(this,e))).selectHero=r.selectHero.bind(Object(H.a)(Object(H.a)(r))),r}return Object(b.a)(t,e),Object(w.a)(t,[{key:"selectHero",value:function(e,t){this.props.makeActions.receiveSelect(t)}},{key:"render",value:function(){var e=this,t=this.props.showHeroes?this.props.showHeroes:null;return c.a.createElement("div",{className:"heroes-list-wrapper"},t?t.map(function(t,r){return c.a.createElement("div",{onClick:function(r){return e.selectHero(r,t)},key:r,className:"hero"},c.a.createElement("img",{alt:t.name,src:t.image}),c.a.createElement("p",null,t.name))}):c.a.createElement("p",{className:"nothing"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))}}]),t}(a.Component);var S=Object(j.b)(function(e){return{selectedHeroes:e.select}},function(e){return{makeActions:Object(o.b)(n,e)}})(N),_=r(19),R=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={dcActive:!0,search:"",marvelHeroes:_.marvel,dcHeroes:_.dc},r.handleChange=r.handleChange.bind(Object(H.a)(Object(H.a)(r))),r}return Object(b.a)(t,e),Object(w.a)(t,[{key:"revertUniverse",value:function(e,t){var r=this;this.props.makeActions.receiveSearch([],""),this.state.dcActive&&t.isDC||!this.state.dcActive&&!t.isDC||this.setState(function(e){return{dcActive:!r.state.dcActive,search:""}})}}]),Object(w.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value,r=this.state.dcActive?this.state.dcHeroes:this.state.marvelHeroes;this.setState(function(e){return{search:t}}),this.props.makeActions.receiveSearch(r,this.state.search)}},{key:"showHero",value:function(){return this.props.searchResult&&this.props.searchResult.length&&this.state.search?this.props.searchResult:!this.state.search||this.props.searchResult?this.state.dcActive?this.state.dcHeroes:this.state.marvelHeroes:void 0}},{key:"render",value:function(){var e=this;return console.log(window.innerWidth),c.a.createElement(A.a,null,c.a.createElement("div",{className:"main-section-wrapper"},c.a.createElement("div",{className:"search"},c.a.createElement("input",{placeholder:"\u0418\u043c\u044f \u0433\u0435\u0440\u043e\u044f",type:"search",value:this.state.search,onChange:this.handleChange}),c.a.createElement("div",{className:"icon-loupe"},c.a.createElement("img",{alt:"loupe",src:"./icon-loupe.png"}))),window.innerWidth<767?c.a.createElement(S,{showHeroes:this.showHero()}):"",c.a.createElement("div",{className:"select"},c.a.createElement(A.b,{to:"/dc"},c.a.createElement("div",{id:"dc",onClick:function(t){return e.revertUniverse(t,{isDC:!0})},className:"select-icon"},c.a.createElement("img",{alt:"dc",className:this.state.dcActive?"":"opacity-logo",src:"./dc-logo.png"}))),c.a.createElement(A.b,{to:"/marvel"},c.a.createElement("div",{id:"marvel",onClick:function(t){return e.revertUniverse(t,{isDC:!1})},className:"select-icon"},c.a.createElement("img",{alt:"marvel",className:this.state.dcActive?"opacity-logo":"",src:"./Marvel.png"})))),window.innerWidth>=767?c.a.createElement(S,{showHeroes:this.showHero()}):""))}}]),t}(a.Component);var D=Object(j.b)(function(e){return{searchResult:e.search}},function(e){return{makeActions:Object(o.b)(n,e)}})(R),L=(r(42),function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},this.props.selectedHeroes&&this.props.selectedHeroes.length?c.a.createElement(C,{showHeroes:this.props.selectedHeroes}):"",c.a.createElement(D,null))}}]),t}(a.Component));var M=Object(j.b)(function(e){return{selectedHeroes:e.select}},function(e){return{makeActions:Object(o.b)(n,e)}})(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=Object(o.d)(p,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(o.a)(v.a));s.a.render(c.a.createElement(j.a,{store:W},c.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.99b4b55b.chunk.js.map